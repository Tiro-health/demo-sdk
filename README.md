# Tiro.health Demo Platform (PACS + LIS)

Mock clinical demo application showing two workflows:

- PACS radiology worklist (dark mode)
- LIS pathology worklist (light mode)

The app demonstrates how the Tiro Form SDK can be embedded in existing imaging/lab systems, with realistic mock worklists, details pages, and launch parameters.

## Current Highlights

- Home launcher with demo selection (`/`)
- PACS worklist and study details with DICOM viewer panel
- LIS pathology worklist and specimen details
- URL-driven filtering/sorting in both worklists
- Embedded reporting panel using `/launch.html`
- Template picker in both PACS and LIS reporting panels
- App switcher in the top header (PACS <-> LIS)

## Routes

- `/` -> Home page
- `/pacs` -> Radiology worklist
- `/pacs/study/:studyId` -> Study details + reporting panel
- `/lis` -> Pathology worklist
- `/lis/specimen/:specimenId` -> Specimen details + reporting panel

## Template Pickers

Template selection is available in the reporting panel header on both details pages.

### LIS Templates

- Thyroid reporting (default LIS template URL from `src/lib/demoRegistry.ts`)
- Basic template: `http://templates.tiro.health/templates/3640e41dba1e4318934e411a054cd721`
- Advanced template: `http://templates.tiro.health/templates/b18e0a6605bb437e90d54f8ec65eeb1d`

### PACS Templates

- Radiology reporting (default PACS template URL)
- Basic template: `http://templates.tiro.health/templates/8d7ab478ce8b4dc3a84b7b33ab34b335`
- CT Coronarography: `http://templates.tiro.health/templates/04cd8b41a7dc491f8fb006f66c60c958`
- Advanced template: `http://templates.tiro.health/templates/b18e0a6605bb437e90d54f8ec65eeb1d`

## Tech Stack

- React 18 + TypeScript
- Vite + TanStack Router
- Tailwind CSS v4
- Radix Select + shadcn-style UI primitives
- lucide-react icons
- Playwright (scripts present)

## Development

Prerequisites:

- Node.js 18+
- npm

Install:

```bash
npm install
```

Run dev server (strict port 5174):

```bash
npm run dev
```

Build:

```bash
npm run build
```

Preview build (port 5175):

```bash
npm run preview
```

Lint:

```bash
npm run lint
```

Test scripts:

```bash
npm run test
npm run test:ui
npm run test:headed
```

## Project Layout

```text
src/
  components/
    shared/
      DemoHeader.tsx
      DicomViewer.tsx
      ParameterForm.tsx
      StudyRow.tsx
      SpecimenRow.tsx
      TableHeader.tsx
      LisTableHeader.tsx
      ModalityBadge.tsx
      SpecimenTypeBadge.tsx
      StatusBadge.tsx
      PriorityBadge.tsx
    ui/
      badge.tsx
      button.tsx
      card.tsx
      input.tsx
      select.tsx
  hooks/
    useStudies.ts
    useSpecimens.ts
    useTheme.ts
    useDebounce.ts
  lib/
    demoRegistry.ts
    mockData.ts
    mockSpecimenData.ts
    dataUtils.ts
  pages/
    home/
    worklist/            (PACS)
    study-details/       (PACS details)
    lis-worklist/        (LIS)
    specimen-details/    (LIS details)
  routes/
    index.tsx
    pacs.tsx
    pacs.index.tsx
    pacs.study.$studyId.tsx
    lis.tsx
    lis.index.tsx
    lis.specimen.$specimenId.tsx
    __root.tsx
  types/
    study.ts
    specimen.ts
    search-params.ts
    lis-search-params.ts

public/
  launch.html
  callback.html
```

## Notes

- PACS theme is dark and tuned around deep navy tones.
- LIS theme is light and pathology-focused (biopsy/resection workflows).
- Worklist data is generated locally and cached in hooks for demo stability.
- `src/routeTree.gen.ts` is auto-generated by TanStack Router plugin.
